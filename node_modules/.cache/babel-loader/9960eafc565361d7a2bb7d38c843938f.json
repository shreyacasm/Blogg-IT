{"ast":null,"code":"import _regeneratorRuntime from\"/home/hp/Desktop/reactprojects/link-course-blog/linkcourse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hp/Desktop/reactprojects/link-course-blog/linkcourse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/hp/Desktop/reactprojects/link-course-blog/linkcourse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import AddComment from'../Components/AddComment';import ArticleList from'../Components/ArticlesList';import CommentList from'../Components/CommentsList';import UpvotesSection from'../Components/UpvotesSection';import articleContent from'./article-content';import NotFoundPage from'./NotFoundPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ArticlePage=function ArticlePage(_ref){var match=_ref.match;var name=match.params.name;var article=articleContent.find(function(article){return article.name===name;});var _useState=useState({upvotes:0,comments:[]}),_useState2=_slicedToArray(_useState,2),articlesInfo=_useState2[0],setArticleInfo=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/articles/\".concat(name));case 2:result=_context.sent;_context.next=5;return result.json();case 5:body=_context.sent;setArticleInfo(body);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[name]);if(!article)return/*#__PURE__*/_jsx(NotFoundPage,{});var otherArticles=articleContent.filter(function(article){return article.name!==name;});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:article.title}),/*#__PURE__*/_jsx(UpvotesSection,{articleName:name,upvotes:articlesInfo.upvotes,setArticleInfo:setArticleInfo}),article.content.map(function(paragraph,key){return/*#__PURE__*/_jsx(\"p\",{children:paragraph},key);}),/*#__PURE__*/_jsx(CommentList,{comments:articlesInfo.comments}),/*#__PURE__*/_jsx(AddComment,{articleName:name,setArticleInfo:setArticleInfo}),/*#__PURE__*/_jsx(\"h2\",{children:\"View Other Articles\"}),/*#__PURE__*/_jsx(ArticleList,{articles:otherArticles})]});};export default ArticlePage;","map":{"version":3,"sources":["/home/hp/Desktop/reactprojects/link-course-blog/linkcourse/src/pages/ArticlePage.js"],"names":["React","useState","useEffect","AddComment","ArticleList","CommentList","UpvotesSection","articleContent","NotFoundPage","ArticlePage","match","name","params","article","find","upvotes","comments","articlesInfo","setArticleInfo","fetchData","fetch","result","json","body","otherArticles","filter","title","content","map","paragraph","key"],"mappings":"ghBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,cAAP,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,6IACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,CAChC,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CACA,GAAME,CAAAA,OAAO,CAAGN,cAAc,CAACO,IAAf,CAAoB,SAAAD,OAAO,QAAIA,CAAAA,OAAO,CAACF,IAAR,GAAiBA,IAArB,EAA3B,CAAhB,CAFgC,cAIQV,QAAQ,CAAC,CAAEc,OAAO,CAAE,CAAX,CAAcC,QAAQ,CAAE,EAAxB,CAAD,CAJhB,wCAIxBC,YAJwB,eAIVC,cAJU,eAM/BhB,SAAS,CAAC,UAAK,CACX,GAAMiB,CAAAA,SAAS,2FAAG,yKACOC,CAAAA,KAAK,yBAAkBT,IAAlB,EADZ,QACRU,MADQ,qCAEKA,CAAAA,MAAM,CAACC,IAAP,EAFL,QAERC,IAFQ,eAGdL,cAAc,CAACK,IAAD,CAAd,CAHc,sDAAH,kBAATJ,CAAAA,SAAS,2CAAf,CAKAA,SAAS,GAEZ,CARQ,CAQN,CAACR,IAAD,CARM,CAAT,CASD,GAAG,CAACE,OAAJ,CAAa,mBAAO,KAAC,YAAD,IAAP,CAEb,GAAMW,CAAAA,aAAa,CAAGjB,cAAc,CAACkB,MAAf,CAAsB,SAAAZ,OAAO,QAAIA,CAAAA,OAAO,CAACF,IAAR,GAAiBA,IAArB,EAA7B,CAAtB,CAEA,mBACC,wCACA,oBAAKE,OAAO,CAACa,KAAb,EADA,cAEA,KAAC,cAAD,EAAgB,WAAW,CAAEf,IAA7B,CAAmC,OAAO,CAAEM,YAAY,CAACF,OAAzD,CAAkE,cAAc,CAAEG,cAAlF,EAFA,CAGCL,OAAO,CAACc,OAAR,CAAgBC,GAAhB,CAAoB,SAACC,SAAD,CAAYC,GAAZ,qBACjB,mBAAeD,SAAf,EAAQC,GAAR,CADiB,EAApB,CAHD,cAMA,KAAC,WAAD,EAAa,QAAQ,CAAEb,YAAY,CAACD,QAApC,EANA,cAOA,KAAC,UAAD,EAAY,WAAW,CAAEL,IAAzB,CAA+B,cAAc,CAAEO,cAA/C,EAPA,cAQA,2CARA,cASA,KAAC,WAAD,EAAa,QAAQ,CAAEM,aAAvB,EATA,GADD,CAcF,CAjCD,CAkCA,cAAef,CAAAA,WAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport AddComment from '../Components/AddComment';\nimport ArticleList from '../Components/ArticlesList';\nimport CommentList from '../Components/CommentsList';\nimport UpvotesSection from '../Components/UpvotesSection';\nimport articleContent from './article-content';\nimport NotFoundPage from './NotFoundPage';\nconst ArticlePage = ({ match }) => {\n   const name = match.params.name; \n   const article = articleContent.find(article => article.name === name);\n   \n    const [articlesInfo, setArticleInfo] = useState({ upvotes: 0, comments: [] });\n\n    useEffect(() =>{\n        const fetchData = async () => {\n            const result = await fetch(`/api/articles/${name}`);\n            const body = await result.json();\n            setArticleInfo(body);\n        }\n        fetchData();\n    \n    }, [name]);\n   if(!article) return <NotFoundPage/>\n   \n   const otherArticles = articleContent.filter(article => article.name !== name);\n   \n   return(\n    <>\n    <h1>{article.title}</h1>\n    <UpvotesSection articleName={name} upvotes={articlesInfo.upvotes} setArticleInfo={setArticleInfo} />\n    {article.content.map((paragraph, key) => (\n        <p key={key} >{paragraph}</p>\n    ) )}\n    <CommentList comments={articlesInfo.comments}/>\n    <AddComment articleName={name} setArticleInfo={setArticleInfo} />\n    <h2>View Other Articles</h2>\n    <ArticleList articles={otherArticles}/>\n    </>\n   ); \n    \n}\nexport default ArticlePage;"]},"metadata":{},"sourceType":"module"}